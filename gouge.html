<html>
    <head>
        <title>Gouge</title>
        <meta charset="utf-8" />
        <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    </head>
    <body>
        <section class="pyscript">
            <div id="mpl"></div>
            <py-tutor>
                <py-config>
                    packages = [
                      "matplotlib"
                    ]
                    "fetch" = [
                        {
                          "files": [
                            "./gouge.py",
                            "./plotter.py",
                            "./user_interface.py",
                            "./jig.py",
                            "./uitl.py",
                            "./vector.py"
                          ]
                        }
                    ]
                    plugins = [
                      "https://pyscript.net/latest/plugins/python/py_tutor.py"
                    ]
                </py-config>

<py-script>
    import matplotlib.pyplot as plt

    from gouge import Gouge
    from plotter import Plotter
    from user_interface import setup_ui

    # Build gouge model and solve
    gouge = Gouge()
    gouge.set_channel_parabola()
    gouge.set_profile_flat()
    gouge.solve()

    # Draw picture...
    fig = plt.figure(figsize=(15, 9), layout="constrained")
    plotter = Plotter(fig=fig, gouge=gouge)
    plotter.make_plot()
    display(fig, target="mpl")
</py-script>
            </py-tutor>
        </section>
    </body>
</html>
